<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>
        js调用java
    </title>
</head>

<body>
<div>
    <xmp id="show"></xmp>
</div>
<p>
    <input type="button" id="enter1" value="添加 event 事件" onclick="addEvent();"/>
</p>
<p>
    <input type="button" id="enter2" value="移除 event 事件" onclick="removeEvent();"/>
</p>
<p>
    <input type="button" id="enter3" value="分发事件" onclick="dispatch();"/>
</p>
<p>
    <input type="button" id="enter4" value="显示html" onclick="showHtml();"/>
</p>
</body>

<script>
  function showHtml() {
    document.getElementById("show").innerHTML = document.getElementsByTagName("html")[0].innerHTML;
  }

  var func = function (res) {
    document.getElementById("show").innerHTML = "params from Java: = " + res;
  }

  function addEvent() {
    window.AEJSBridge.addEventListener({
      handlerName: 'functionInJs',
      callback: func
    });
  }

  function removeEvent() {
    window.AEJSBridge.removeEventListener({
      handlerName: 'functionInJs',
      execFunc: func
    });
  }

  function dispatch() {
    //call native method
    window.AEJSBridge.dispatch({
      handlerName: 'submitFromWeb',
      params: {'param': '中文测试'},
      callback: function (responseData) {
        document.getElementById("show").innerHTML = "send get responseData from java, params = " + responseData
      }
    });
  }

</script>

</html>